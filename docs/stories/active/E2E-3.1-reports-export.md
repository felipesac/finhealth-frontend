# Story E2E-3.1: Reports generation and export

**Epic:** FINHEALTH-EPIC-2 (E2E Test Expansion)
**Sprint:** 3 — Operations + Polish
**Points:** 3
**Priority:** Medium
**Status:** Pending
**Agent:** @dev

---

## Context

Reports module has 6 routes (faturamento, glosas-operadora, tendencias, producao, exportar, main) for generating financial and operational reports. All have zero E2E coverage.

## Acceptance Criteria

- [ ] Test reports main page (/relatorios) renders report navigation/links
- [ ] Test billing report (/relatorios/faturamento) renders chart and data table
- [ ] Test glosas by operator report (/relatorios/glosas-operadora) renders aggregated data
- [ ] Test trends report (/relatorios/tendencias) renders trend charts
- [ ] Test production report (/relatorios/producao) renders production metrics
- [ ] Test export page (/relatorios/exportar) — select format and date range
- [ ] Test export triggers download (intercept download event)
- [ ] Create Page Object Model: `e2e/pages/reports.page.ts`

## Technical Notes

- Depends on E2E-1.1 (auth fixture)
- Charts render as SVG (Recharts) — test for `.recharts-wrapper` presence rather than exact values
- Export download: use `page.waitForEvent('download')` to verify file generation
- Mock API responses for deterministic chart data

## Files to Create

- `e2e/reports.spec.ts`
- `e2e/pages/reports.page.ts`

## Definition of Done

- [ ] All 6 report views render correctly
- [ ] Export flow triggers download
- [ ] Chart components render (SVG present)
- [ ] All tests pass in headless mode
