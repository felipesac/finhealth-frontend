# Story E2E-1.4: Glosas management and appeal workflow

**Epic:** FINHEALTH-EPIC-2 (E2E Test Expansion)
**Sprint:** 1 — Foundation + Core Business
**Points:** 3
**Priority:** High
**Status:** Pending
**Agent:** @dev

---

## Context

Glosa management and the appeal workflow are the core value proposition of the system. The flow from glosa identification through appeal submission has zero E2E coverage.

## Acceptance Criteria

- [ ] Test glosas list page renders with tab filters (Pendentes, Em Andamento, Resolvidas, Todas)
- [ ] Test tab switching updates the displayed list
- [ ] Test glosa detail page (/glosas/[id]) renders glosa info and appeal section
- [ ] Test appeal form submission (fill justification text → submit)
- [ ] Test glosas by operator view (/glosas/operadora)
- [ ] Test glosas by billing view (/glosas/faturamento)
- [ ] Test empty state when no glosas exist
- [ ] Create Page Object Models: `e2e/pages/glosas-list.page.ts`, `e2e/pages/glosa-detail.page.ts`

## Technical Notes

- Depends on E2E-1.1 (auth fixture + seed helpers)
- Seed glosas with different statuses: pending, in_progress, accepted, rejected
- Appeal form may trigger toast notification — verify toast appears

## Files to Create

- `e2e/glosas.spec.ts`
- `e2e/pages/glosas-list.page.ts`
- `e2e/pages/glosa-detail.page.ts`

## Definition of Done

- [ ] Glosa list with tab navigation tested
- [ ] Appeal submission flow tested
- [ ] Aggregation views (by operator, by billing) tested
- [ ] All tests pass in headless mode
